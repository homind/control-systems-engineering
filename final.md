Plant의 전달함수로 표현 되는 G(S)는 환경,노화, 공정 매개변수의 정확한 값에 대한 불확실성, 제어공정에 미치는 다른 요인의 영향을 받음
개루프 시스템은 이러한 점이 부적황성 및 출력의 변화에 영향을 끼치지만 폐루프 시스템은 이를 수정하려고 할 수 있음.

매개변수 변화에 따른 제어시스템의 감도는 매우 중요한 요소로 폐루프 제어시스템은 이 감도를 줄일 수 있음

폐루프에서, 원하는 복소주파수 영역에서 외란과 노이즈가 0이라는 가정속에서 루프이득이 1보다 매우 클 경우 출력과 입력은 거의 유사함.

하지만 루프이득이 1보다 매우 크다는 조건은 시스템 응답이 매우 심하게 진동하거나 불안정하게 될 수도 있음. 그래도 루프이득을 증가시키면 plant의 
G(s)가 출력에 미치는 영향을 줄일 수 있으며 이것은 궤환시스템의 장점!

루프이득 L(S)가 매우 크다고 가정하고 Plant의 외부환경 혹은 불확실성 등등에 대한 오차가 생겼다고 하자. 

![image](https://github.com/homind/control-systems-engineering/assets/101074052/4d414928-7d9f-4114-bf08-10de8cdb4dbd)

이것 처럼, 그러면 이로 인해서 생기는 오차의 변화는??? L(S)가 매우 크다고 가정하였기 때문에, 그 오차의 변화는 다음과 같음.
![image](https://github.com/homind/control-systems-engineering/assets/101074052/d9cbee59-1e7a-4fd8-9676-d8ee6a987885)

시스템의 감도는 시스템 전달함수  /  PLANT 전달함수 백분율 변화 임.

매우 작은 변화에 대해서 다음 처럼도 가능
![image](https://github.com/homind/control-systems-engineering/assets/101074052/2370a501-f7c9-472e-aa0b-61c473913692)

원래는 이거


개루프 시스템 감도는 1인데 폐루프 시스템의 전달함수를 통해 궤환시스템의 감도를 알아보면 결론적으로

![image](https://github.com/homind/control-systems-engineering/assets/101074052/4fe2ef88-1368-4eb7-be85-b8189b061d2e)

식을 보면 분모의 루프이득을 통해서, 내가 알고자하는 주파수영역에 대해서 개루프 시스템일때 보다 감도를 작게 할 수 있음.

-----
### 예제 4.1

그냥 아무튼 개루프보다 궤환시스템을 통해서 감도가 1000배 작아진 것을 예로 보여준 문제임

-----
외란 신호 -> 외부로 부터 제어시스템에 유입되는 것으로 부정확한 출력을 야기함.
궤환 시스템은 외란신호, 노이즈를 줄인는데 유용함.

## 외란 제거하기 
입력과 노이즈가 0이라고 가정한 상태에서 외란만 고려하면 오차값은 다음과 같음. 

![image](https://github.com/homind/control-systems-engineering/assets/101074052/e98c5d44-6b16-40d8-9dcf-0a23039c347d)

식에서 보이듯이 플랜트 전달함수가 일정하다고 했을떄 루프이득을 증가시키면 외란에 의한 오차값을 감소시킬 수 있음.
실제로 외란은 저주파이기 때문에, 저주파에서 루프이득을 높이면 되고 이것은 곧 저주파에서 감도함수를 작게하도록 제어기$G_c(S)$를 설계하면 됨.

## 노이즈 감소시키기
입력과 외란이 0이라고 가정한 상태에서 노이즈만 고려한 오차값은 다음과 같다.
![image](https://github.com/homind/control-systems-engineering/assets/101074052/fb191e31-877c-470c-ab7d-4e84f73d7cb2)

여기서 루프이득이 감소하면 추종오차에 미치는 영향이 감소하는 것을 알 수있고 루프이득이 작다는 것은 보감도함수가 작다는 것.
따라서, 루프이득이 1보다 작게 설계하면 잡음을 감쇠시킬수 있다. 이때 노이즈는 보통 고주파에서 발생되므로 고주파에서 루프이득을 낮추면 됨.

저주파에서의 외란과 고주파에서의 노이즈를 구분하여 제어시스템을 설계할 수 있음. 루프이득은 저주파에서 높아야하고 고주파에서 낮아야 하기 때문에

이러한 점을통해 감도함수와 보감도 함수에 대한 식은 다음과 같음.
![image](https://github.com/homind/control-systems-engineering/assets/101074052/f1dd92aa-224e-4f8b-bf2a-0923e3071f82)



---

과도응답 : 정상상태 이전의 시스템응답으로 제어시스템의 원하는 응답을 얻기 위해 과도응답 또한 만족스럽게 조정되어야함.



정상상태 오차 : 과도응답이 감쇠하고 연속적 응답만 남았을때의 오차
아무튼 폐루프가 개루프에 비해 정상상태 오차작음

--------
이렇게 궤환시스템을 사용하면 외란고 노이즈를 잡아 오차도 감소할 수있고 과동응답, 정상상태에 대해서도 제어가 가능하니 좋음!
하지만, 구성부품의 개수와 복잡도가 매우 증가함. 그리고 이득의 감소가 나타날 수도 있으며, 시스템의 불안정을 가져올 수도 있음.

그래도 쓰는 이유는!
1. plant 매개변수의 변화에 대한 시스템의 감도저하
2. 외란 제거의 개선
3. 노이즈 감소의 개선
4. 시스템의 정상상태 오차 감소의 개선
5. 시스템의 과도응답 조정 및 제어의 용이성





-----
# 이것만 알자.

피드백 H(s) = 1 인 경우 

### 출력 Y(s)

![image](https://github.com/homind/control-systems-engineering/assets/101074052/b271f03d-50d6-4ff6-b307-c2c7b67cea96)


### 추종 오차

![image](https://github.com/homind/control-systems-engineering/assets/101074052/b10c8261-2509-4e45-b420-02148936a5d4)


만약 H(s)가 1이 아닐 경우에는 각 분모의 루프이득 L(s)에 H(s)를 곱해주면 될 듯?


### 감도

![image](https://github.com/homind/control-systems-engineering/assets/101074052/b95b1372-fe51-4730-bb1d-e6d76b4b2df1)


### 정상상태 오차
과도응답이 감소하고 연속적인 응답만 남은 상태 추종오차에 최종값 정리를 적용한 것.
























